import { Avatar, Button, Card, CardBody, CardFooter, CardHeader, Textarea } from "@nextui-org/react"
import Image from 'next/image'
import Comment from "./comments"

const Post = (props: {
  postMessage: {
    user_id: string
    name: string
    avatar: string
    created_at: string
    content: string
    imageSrc: string
    like: number
    share: number
    comments: {
      user_id: string
      name: string
      avatar: string
      comment: string
    }[]
  }
}) => {
  return <Card className="bg-none">
    <CardHeader className="flex gap-5">
      <Avatar className="w-16 h-16" src={props.postMessage.avatar} />
      <ul className="flex flex-col gap-3">
        <li className="text-lg font-bold">{props.postMessage.name}</li>
        <li className="text-sm text-gray-500 flex gap-2 items-center"><span>{props.postMessage.created_at}</span><svg xmlns="http://www.w3.org/2000/svg" width="21" height="14" viewBox="0 0 21 14" fill="none">
          <circle cx="1.5" cy="7" r="1.5" fill="#65676B" />
          <path d="M14.5 0.5C10.9101 0.5 8 3.41006 8 7C8 10.5899 10.9101 13.5 14.5 13.5C18.0899 13.5 21 10.5899 21 7C21 3.41006 18.0899 0.5 14.5 0.5ZM18.6935 6.14819V6.32982C18.6935 6.48367 18.6065 6.62441 18.4689 6.69308L18.0656 6.8949C18.0015 6.92696 17.9301 6.94149 17.8586 6.93703C17.7871 6.93256 17.7181 6.90926 17.6585 6.86948L17.1812 6.55129C17.1298 6.517 17.0711 6.4949 17.0098 6.48668C16.9485 6.47846 16.8861 6.48433 16.8274 6.50385L16.758 6.52692C16.5037 6.61157 16.3999 6.91456 16.5485 7.1376L16.8956 7.65812C16.9708 7.77109 17.0976 7.83897 17.2334 7.83897H17.4486C17.6729 7.83897 17.8548 8.02087 17.8548 8.24522V8.54244C17.8548 8.63024 17.8263 8.71595 17.7736 8.78619L17.2824 9.44091C17.2452 9.49071 17.2198 9.54837 17.2082 9.60944L17.0955 10.2078C17.0793 10.294 17.0355 10.3727 16.9708 10.4322C16.7224 10.6596 16.5024 10.9162 16.3155 11.1964L15.974 11.7088C15.9076 11.8085 15.8176 11.8902 15.7121 11.9467C15.6065 12.0032 15.4886 12.0328 15.3689 12.0328C15.0934 12.0328 14.8415 11.8771 14.7183 11.6307C14.5747 11.3435 14.5 11.0269 14.5 10.7058V9.92238C14.5 9.69802 14.3181 9.51613 14.0938 9.51613H13.4154C13.0357 9.51613 12.6716 9.36516 12.403 9.09677C12.1345 8.8282 11.9837 8.46403 11.9836 8.08429V7.71579C11.9836 7.26524 12.1959 6.84091 12.5563 6.57042L13.2792 6.02814C13.527 5.84227 13.8285 5.74175 14.1383 5.74167H14.1616C14.3839 5.74167 14.6033 5.79331 14.8019 5.8929L15.1877 6.08581C15.2842 6.13403 15.3956 6.1419 15.4978 6.10782L16.7378 5.6945C16.9037 5.63919 17.0156 5.48403 17.0156 5.30921C17.0156 5.08486 16.8337 4.90296 16.6094 4.90296H16.3449C16.2372 4.90296 16.1339 4.86024 16.0576 4.78397L15.8763 4.6026C15.8386 4.56487 15.7938 4.53494 15.7445 4.51452C15.6952 4.4941 15.6424 4.4836 15.589 4.48361H13.2288C13.0045 4.48361 12.8226 4.30171 12.8226 4.07736V3.96204C12.8226 3.77569 12.9494 3.61319 13.1303 3.56784L13.509 3.47323C13.607 3.44859 13.6925 3.38857 13.7486 3.30444L13.9603 2.98704C14.0356 2.87407 14.1624 2.80619 14.2982 2.80619H14.9327C15.1571 2.80619 15.339 2.62429 15.339 2.39994V1.83119C17.4153 2.16772 19.083 3.72431 19.5828 5.74194H19.0998C18.8754 5.74194 18.6935 5.92383 18.6935 6.14819Z" fill="#65676B" />
        </svg> </li>
      </ul>
    </CardHeader>
    <CardBody className="h-fit">
      <p className="">
        {props.postMessage.content}
      </p>
      <Image src={props.postMessage.imageSrc} width={900} height={128} alt="Una imagen" />
    </CardBody>
    <CardFooter className="flex flex-col gap-3">
      <div className=" w-full flex justify-between px-10">
        <div className="flex gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M9 0.5C6.74566 0.5 4.58365 1.39553 2.98959 2.98959C1.39553 4.58365 0.5 6.74566 0.5 9C0.5 11.2543 1.39553 13.4163 2.98959 15.0104C4.58365 16.6045 6.74566 17.5 9 17.5C11.2543 17.5 13.4163 16.6045 15.0104 15.0104C16.6045 13.4163 17.5 11.2543 17.5 9C17.5 6.74566 16.6045 4.58365 15.0104 2.98959C13.4163 1.39553 11.2543 0.5 9 0.5Z" fill="url(#paint0_linear_6_254)" stroke="white" />
            <path d="M13.162 8.338C13.338 8.461 13.5 8.583 13.5 9.012C13.5 9.442 13.271 9.616 13.026 9.737C13.1262 9.90028 13.1581 10.0964 13.115 10.283C13.038 10.627 12.723 10.894 12.443 10.973C12.564 11.167 12.602 11.358 12.458 11.593C12.273 11.888 12.112 12 11.4 12H8.5C7.512 12 7 11.454 7 11V8.665C7 7.435 8.467 6.39 8.467 5.535L8.361 4.47C8.356 4.405 8.369 4.246 8.419 4.2C8.499 4.121 8.72 4 9.054 4C9.272 4 9.417 4.041 9.588 4.123C10.169 4.4 10.32 5.101 10.32 5.665C10.32 5.936 9.906 6.748 9.85 7.029C9.85 7.029 10.717 6.837 11.729 6.83C12.79 6.824 13.478 7.02 13.478 7.672C13.478 7.933 13.259 8.195 13.162 8.338ZM4.6 8H5.4C5.55913 8 5.71174 8.06321 5.82426 8.17574C5.93679 8.28826 6 8.44087 6 8.6V12.4C6 12.5591 5.93679 12.7117 5.82426 12.8243C5.71174 12.9368 5.55913 13 5.4 13H4.6C4.44087 13 4.28826 12.9368 4.17574 12.8243C4.06321 12.7117 4 12.5591 4 12.4V8.6C4 8.44087 4.06321 8.28826 4.17574 8.17574C4.28826 8.06321 4.44087 8 4.6 8Z" fill="white" />
            <defs>
              <linearGradient id="paint0_linear_6_254" x1="9" y1="1" x2="9" y2="17" gradientUnits="userSpaceOnUse">
                <stop stop-color="#18AFFF" />
                <stop offset="1" stop-color="#0062DF" />
              </linearGradient>
            </defs>
          </svg>
          {props.postMessage.like}
        </div>
        <div className="flex gap-10">
          <span>{props.postMessage.comments.length} comments</span>
          <span>{props.postMessage.share} share</span>
        </div>
      </div>
      <hr className="border-b border-b-gray-300 w-full" />
      <div className="px-20 w-full flex justify-between">
        <Button
          className="text-gray-500"
          variant="light"
          startContent={
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
              <path d="M11.7583 6.23827C11.2523 6.24191 10.776 6.28134 10.3784 6.32902C10.429 6.19615 10.4785 6.06051 10.5192 5.93409C10.5684 5.78092 10.6332 5.55905 10.6332 5.35662C10.6332 4.93444 10.5611 4.17611 10.3916 3.46672C10.3068 3.11134 10.1912 2.74117 10.0334 2.42212C9.88519 2.12251 9.651 1.76707 9.27553 1.58018C8.98156 1.43346 8.69964 1.35006 8.31074 1.35006C7.74473 1.35006 7.29115 1.5587 7.04878 1.80359C6.9017 1.94999 6.85288 2.12152 6.83251 2.22735C6.81194 2.33421 6.80626 2.45258 6.80513 2.5709C6.80282 2.81447 6.8203 3.20265 6.85994 3.82674L6.8606 3.83709L6.86158 3.84742L6.99183 5.2094C6.98529 5.32297 6.93185 5.49558 6.78503 5.75939C6.65836 5.98698 6.4979 6.22284 6.31103 6.49753C6.26783 6.56102 6.22323 6.62659 6.1773 6.69461C5.77394 7.292 5.26022 8.08039 5.15773 8.98225C5.11135 8.69348 4.97926 8.42179 4.77305 8.20717C4.51121 7.93464 4.1504 7.77646 3.76842 7.77646H2.75789C2.37592 7.77646 2.01511 7.93464 1.75327 8.20717C1.49227 8.47881 1.35 8.84189 1.35 9.21529V14.2112C1.35 14.5846 1.49227 14.9477 1.75326 15.2193C2.01511 15.4918 2.37592 15.65 2.75789 15.65H3.76842C4.1504 15.65 4.51121 15.4918 4.77305 15.2193C5.03404 14.9477 5.17632 14.5846 5.17632 14.2112V12.7134C5.37707 13.6342 6.37817 14.3353 7.68421 14.3353H11.3474C11.8082 14.3353 12.2026 14.3019 12.5285 14.1575C12.9012 13.9923 13.0971 13.7237 13.2405 13.4857L13.2406 13.4857L13.2439 13.48C13.3899 13.2321 13.4663 12.9644 13.4486 12.6817C13.4478 12.6701 13.447 12.6586 13.4459 12.6471C13.7748 12.3936 14.0505 12.0203 14.1487 11.5667C14.1926 11.3676 14.1989 11.1632 14.1687 10.9644C14.2269 10.9089 14.2835 10.8466 14.3364 10.7763C14.5439 10.5001 14.65 10.1592 14.65 9.75695C14.65 9.39693 14.5845 9.08907 14.4264 8.82717C14.4175 8.81246 14.4085 8.79811 14.3993 8.78411C14.501 8.59633 14.6222 8.31763 14.6222 7.99524C14.6222 7.66529 14.5364 7.35274 14.3459 7.08381C14.1591 6.82015 13.9032 6.64263 13.6336 6.52312C13.1164 6.29384 12.4474 6.23421 11.7591 6.23826L11.7583 6.23827Z" stroke="#65676B" stroke-width="1.3" />
            </svg>
          }
        >like</Button>
        <Button
          className="text-gray-500"
          variant="light"
          startContent={
            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">
              <path d="M13.8647 1H2.57998C1.7073 1 1 1.70248 1 2.56891V9.7413C1 10.6075 1.7073 11.3104 2.57998 11.3104H4.24543V14L6.74672 11.3104H13.8647C14.7376 11.3104 15.4447 10.6075 15.4447 9.7413V2.56891C15.4444 1.70248 14.7374 1 13.8647 1Z" stroke="#65676B" stroke-width="1.3" />
            </svg>
          }
        >comment</Button>
        <Button
          className="text-gray-500"
          variant="light"
          startContent={
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
              <path d="M9.97173 5.6185L9.97173 2L13.8108 5.93537L16.8889 9.09068L13.7562 11.7669L9.97173 15L9.97173 11.4593C3.32778 10.9459 1.00003 14.8871 1.00003 14.8871C1.00003 12.4316 1.1974 9.88327 3.08065 7.95363C5.26974 5.70879 8.44002 5.54994 9.97173 5.6185Z" stroke="#65676B" stroke-width="1.3" />
            </svg>
          }
        >share</Button>
      </div>
      <hr className="border-b border-b-gray-300 w-full" />
      <div className="w-full">
        <Button className={`${props.postMessage.comments.length > 1 ? 'block' : 'hidden'} text-gray-500`}
          variant="light"
        >See more comments</Button>
        {
          props.postMessage.comments.map(v => {
            return <Comment key={v.name} commentMessage={v} />
          })
        }
        <div className="w-full flex items-center gap-3">
          <Avatar className="w-7 h-7" src="https://i.pravatar.cc/150?u=a04258114e29026708c" />
          <Textarea
            label=""
            placeholder="write a comment..."
            className=""
          />
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15" fill="none">
            <path d="M6.03857 6.74988C6.28721 6.74988 6.52567 6.65111 6.70149 6.47529C6.8773 6.29948 6.97607 6.06102 6.97607 5.81238C6.97607 5.56374 6.8773 5.32528 6.70149 5.14947C6.52567 4.97365 6.28721 4.87488 6.03857 4.87488C5.78993 4.87488 5.55148 4.97365 5.37566 5.14947C5.19985 5.32528 5.10107 5.56374 5.10107 5.81238C5.10107 6.06102 5.19985 6.29948 5.37566 6.47529C5.55148 6.65111 5.78993 6.74988 6.03857 6.74988ZM11.8511 5.81238C11.8511 6.06102 11.7523 6.29948 11.5765 6.47529C11.4007 6.65111 11.1622 6.74988 10.9136 6.74988C10.6649 6.74988 10.4265 6.65111 10.2507 6.47529C10.0748 6.29948 9.97607 6.06102 9.97607 5.81238C9.97607 5.56374 10.0748 5.32528 10.2507 5.14947C10.4265 4.97365 10.6649 4.87488 10.9136 4.87488C11.1622 4.87488 11.4007 4.97365 11.5765 5.14947C11.7523 5.32528 11.8511 5.56374 11.8511 5.81238ZM6.39557 11.5053C7.03776 11.8389 7.75242 12.0088 8.47607 11.9999C9.19968 12.0088 9.91429 11.839 10.5565 11.5053C11.1986 11.1717 11.7484 10.6846 12.1571 10.0874C12.2221 9.98146 12.2423 9.85406 12.2134 9.7332C12.1844 9.61234 12.1087 9.50793 12.0028 9.44294C11.8968 9.37795 11.7694 9.35769 11.6486 9.38663C11.5277 9.41557 11.4233 9.49133 11.3583 9.59725C11.0339 10.058 10.6016 10.4325 10.0992 10.6878C9.5968 10.9432 9.03956 11.0718 8.47607 11.0624C7.91256 11.0716 7.35534 10.9429 6.85293 10.6876C6.35051 10.4322 5.91814 10.0579 5.59345 9.59725C5.52845 9.49133 5.42405 9.41557 5.30319 9.38663C5.18233 9.35769 5.05493 9.37795 4.94901 9.44294C4.84309 9.50793 4.76733 9.61234 4.73839 9.7332C4.70945 9.85406 4.7297 9.98146 4.7947 10.0874C5.20342 10.6846 5.75333 11.1717 6.39557 11.5053ZM8.47607 -0.00012207C4.33382 -0.00012207 0.976074 3.35763 0.976074 7.49988C0.976074 11.6421 4.33382 14.9999 8.47607 14.9999C12.6183 14.9999 15.9761 11.6421 15.9761 7.49988C15.9761 3.35763 12.6183 -0.00012207 8.47607 -0.00012207ZM1.91357 7.49988C1.91357 3.8755 4.8517 0.937378 8.47607 0.937378C12.1004 0.937378 15.0386 3.8755 15.0386 7.49988C15.0386 11.1243 12.1004 14.0624 8.47607 14.0624C4.8517 14.0624 1.91357 11.1243 1.91357 7.49988Z" fill="#65676B" />
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" className="w-4 h-4" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="#888888" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.75 8.25v7.5m6-7.5h-3V12m0 0v3.75m0-3.75H18M9.75 9.348c-1.03-1.464-2.698-1.464-3.728 0c-1.03 1.465-1.03 3.84 0 5.304c1.03 1.464 2.699 1.464 3.728 0V12h-1.5M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" /></svg>
        </div>
      </div>
    </CardFooter>
  </Card>
}
export default Post
